{% extends 'admin/admin_index.html' %}

{% block content %}
{% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
  </div>
{% endif %}
<div class="container mt-4">
  <div class="card shadow">
    <div class="card-body">
      <h2 class="card-title mb-4 text-center">Edit Video</h2>
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input type="text" class="form-control" id="title" name="title" value="{{ video.title }}" required>
        </div>
        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea class="form-control" id="description" name="description" rows="3">{{ video.description }}</textarea>
        </div>
        <div class="mb-3">
          <label class="form-label">Current Video</label><br>
          <video width="200" controls>
            <source src="{{ video.video_file.url }}" type="video/mp4">
            Your browser does not support video playback.
          </video>
        </div>
        <div class="mb-3">
          <label for="video_file" class="form-label">Change Video File (optional)</label>
          <input type="file" class="form-control" id="video_file" name="video_file" accept="video/*">
        </div>
        <button type="submit" class="btn btn-success">Save Changes</button>
        <a href="{% url 'view_videos' %}" class="btn btn-secondary">Cancel</a>
      </form>
    </div>
  </div>
</div>
{% endblock %}